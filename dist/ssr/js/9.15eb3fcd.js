(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{de12:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{staticClass:"q-ma-md"},[o("div",{staticClass:"row q-mb-md"},[o("q-form",[o("div",{staticClass:"row q-gutter-md"},[o("q-input",{attrs:{autofocus:"",label:"ID"},model:{value:e.id,callback:function(t){e.id=t},expression:"id"}}),o("q-input",{attrs:{type:"password",label:"Password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)])],1),e.show?o("div",[o("q-btn",{attrs:{color:"green",label:"Save first row"},on:{click:function(t){return e.addData()}}}),o("q-btn",{staticClass:"q-mx-md",attrs:{color:"purple",label:"Save changes"},on:{click:function(t){return e.modifyData()}}}),o("q-table",{key:e.refreshVar,attrs:{data:e.data,columns:e.columns,"rows-per-page-options":[1e3],"row-key":"nom","wrap-cells":""},scopedSlots:e._u([{key:"body",fn:function(t){return[o("q-tr",{attrs:{props:t}},[o("q-td",{key:"nom",attrs:{props:t}},[e._v("\n            "+e._s(t.row.nom)+"\n            "),o("q-popup-edit",{attrs:{"auto-save":""},model:{value:t.row.nom,callback:function(o){e.$set(t.row,"nom",o)},expression:"props.row.nom"}},[o("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.nom,callback:function(o){e.$set(t.row,"nom",o)},expression:"props.row.nom"}})],1)],1),o("q-td",{key:"imgSrc",attrs:{props:t}},[o("div",{staticStyle:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}},[e._v(e._s(t.row.imgSrc))]),o("q-popup-edit",{attrs:{"auto-save":""},model:{value:t.row.imgSrc,callback:function(o){e.$set(t.row,"imgSrc",o)},expression:"props.row.imgSrc"}},[o("q-input",{attrs:{dense:"",autofocus:"",counter:""},model:{value:t.row.imgSrc,callback:function(o){e.$set(t.row,"imgSrc",o)},expression:"props.row.imgSrc"}})],1)],1),o("q-td",{key:"body",attrs:{props:t}},[o("div",{staticStyle:{"max-height":"100px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},domProps:{innerHTML:e._s(t.row.body)}}),o("q-popup-edit",{attrs:{"auto-save":""},model:{value:t.row.body,callback:function(o){e.$set(t.row,"body",o)},expression:"props.row.body"}},[o("editor",{model:{value:t.row.body,callback:function(o){e.$set(t.row,"body",o)},expression:"props.row.body"}})],1)],1),o("q-td",{key:"prix",attrs:{props:t}},[e._v("\n            "+e._s(t.row.prix)+"\n            "),o("q-popup-edit",{attrs:{"auto-save":""},model:{value:t.row.prix,callback:function(o){e.$set(t.row,"prix",o)},expression:"props.row.prix"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:""},model:{value:t.row.prix,callback:function(o){e.$set(t.row,"prix",e._n(o))},expression:"props.row.prix"}})],1)],1),o("q-td",{key:"categorie",attrs:{props:t}},[o("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.categorie))]),o("q-popup-edit",{attrs:{"auto-save":""},model:{value:t.row.categorie,callback:function(o){e.$set(t.row,"categorie",o)},expression:"props.row.categorie"}},[o("q-input",{attrs:{type:"text",dense:"",autofocus:""},model:{value:t.row.categorie,callback:function(o){e.$set(t.row,"categorie",o)},expression:"props.row.categorie"}})],1)],1),o("q-td",{key:"lien",attrs:{props:t}},[o("div",{staticClass:"text-pre-wrap"},[e._v(e._s(t.row.lien))]),o("q-popup-edit",{attrs:{"auto-save":""},model:{value:t.row.lien,callback:function(o){e.$set(t.row,"lien",o)},expression:"props.row.lien"}},[o("q-input",{attrs:{type:"text",dense:"",autofocus:""},model:{value:t.row.lien,callback:function(o){e.$set(t.row,"lien",o)},expression:"props.row.lien"}})],1)],1),o("q-td",{key:"disponible",attrs:{props:t}},[o("div",{staticClass:"text-pre-wrap"}),o("q-toggle",{attrs:{"checked-icon":"check","unchecked-icon":"clear",color:"green"},model:{value:t.row.disponible,callback:function(o){e.$set(t.row,"disponible",o)},expression:"props.row.disponible"}})],1),o("q-td",{key:"delete",attrs:{props:t}},[-1!=t.row.id?o("q-btn",{attrs:{color:"red",label:"X"},on:{click:function(o){return e.deleteData(t.row.id)}}}):e._e()],1)],1)]}}],null,!1,186936881)})],1):e._e()])},a=[],n=(o("ac6a"),o("ac4d"),o("8a81"),o("5df3"),o("1c4c"),o("7f7f"),o("6b54"),o("06db"),o("7fc3")),s=o.n(n);o("a73c");function i(e,t){var o;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(o=l(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,i=!1;return{s:function(){o=e[Symbol.iterator]()},n:function(){var e=o.next();return s=e.done,e},e:function(e){i=!0,n=e},f:function(){try{s||null==o.return||o.return()}finally{if(i)throw n}}}}function l(e,t){if(e){if("string"===typeof e)return c(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}var d={components:{editor:function(){return Promise.all([o.e(0),o.e(6)]).then(o.bind(null,"a897"))}},data:function(){return{id:"",password:"",refreshVar:0,data:[{id:-1,nom:"Nouveau nom",imgSrc:"https://preview.free3d.com/img-dev/2013/07/1741457818466124927/89q4o3hd-900.jpg",body:"Nouveau texte",prix:4.3,categorie:"confiture",lien:"/wololo",disponible:!0}],columns:[{name:"nom",align:"left",classes:"bg-grey-2",headerClasses:"bg-blue",label:"Nom",field:"nom"},{name:"imgSrc",align:"center",style:"max-width: 100px",label:"Image",field:"imgSrc"},{name:"body",align:"left",label:"Texte",field:"body"},{name:"prix",align:"center",label:"Prix",field:"prix"},{name:"categorie",align:"center",label:"Categorie",field:"categorie"},{name:"lien",align:"center",label:"Lien",field:"lien"},{name:"disponible",align:"center",label:"Disponible",field:"disponible"},{name:"delete",align:"center",label:"Delete",field:"id"}],users:[]}},computed:{newThing:function(){var e=this.data[0];return e.id=this.data[this.data.length-1].id+1,e},show:function(){var e,t=i(this.users);try{for(t.s();!(e=t.n()).done;){var o=e.value,r=!1,a=!1,n=!1;if(o.id==this.id&&(r=!0),r&&o.password==this.password&&(a=!0),a&&o.admin&&(n=!0),n)return!0}}catch(s){t.e(s)}finally{t.f()}return!1}},methods:{showData:function(){console.log(this.newThing)},getData:function(){var e=this,t=this.data.length-1;s.a.database().ref("products").once("value").then((function(o){var r=o.val(),a=0;for(var n in r){if(a>=t){var s=r[n];e.data.push(s)}a+=1}}))},addData:function(){var e=this;s.a.database().ref("products/"+e.newThing.id).set(e.newThing),this.refreshTable()},modifyData:function(){var e=this,t=e.data.slice(1);s.a.database().ref("products").set(t),this.refreshTable()},deleteData:function(e){s.a.database().ref("products/"+e).remove(),console.log("Entry deleted"),this.$router.go(0)},refreshTable:function(){this.getData(),this.refreshVar+=1},getUsers:function(){var e=this;s.a.database().ref("users").once("value").then((function(t){var o=t.val();for(var r in o){var a=o[r];e.users.push(a)}}))},showIt:function(){console.log(this.data)}},mounted:function(){this.getData(),this.getUsers()}},p=d,u=o("2877"),f=o("9989"),w=o("0378"),m=o("27f9"),b=o("9c40"),v=o("eaac"),g=o("bd08"),h=o("db86"),y=o("42a1"),x=o("9564"),k=o("eebe"),q=o.n(k),S=Object(u["a"])(p,r,a,!1,null,null,null);t["default"]=S.exports;q()(S,"components",{QPage:f["a"],QForm:w["a"],QInput:m["a"],QBtn:b["a"],QTable:v["a"],QTr:g["a"],QTd:h["a"],QPopupEdit:y["a"],QToggle:x["a"]})}}]);